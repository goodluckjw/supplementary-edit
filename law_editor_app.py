<the full working code from canvas above>